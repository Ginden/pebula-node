## API Report File for "@pebula/attribus"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

import { MessageHandlerOptions } from '@azure/service-bus';
import { MessagingError } from '@azure/service-bus';
import { Observable } from 'rxjs';
import { OperatorFunction } from 'rxjs';
import { ProxySettings } from '@azure/core-http';
import { ReceiveMode } from '@azure/service-bus';
import { Sender } from '@azure/service-bus';
import { ServiceBusClient } from '@azure/service-bus';
import { ServiceBusClientOptions } from '@azure/service-bus';
import { ServiceBusMessage } from '@azure/service-bus';
import { SessionReceiverOptions } from '@azure/service-bus';
import { TokenProvider } from '@azure/service-bus';

// @public (undocumented)
export interface AttribusConfiguration {
    clients?: SbClientOptions[];
    containers: Array<any>;
    // (undocumented)
    errorHandler?: SbErrorHandler;
    servers: SbServerOptions[];
}

// @public (undocumented)
export abstract class AttribusManagerBase {
    // (undocumented)
    close(): Promise<void>;
    // Warning: (ae-forgotten-export) The symbol "SbDiscoveryService" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    protected createDiscoveryService(configuration: AttribusConfiguration): Promise<SbDiscoveryService>;
    // (undocumented)
    protected abstract getConfiguration(): Promise<AttribusConfiguration>;
    // (undocumented)
    start(): Promise<void>;
}

// @public (undocumented)
export interface Ctor<T> extends Function {
    // (undocumented)
    new (...args: any[]): T;
}

// @public (undocumented)
export namespace Extensibility {
    const // Warning: (ae-forgotten-export) The symbol "SbSubscriberMetadata" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    SbSubscriberMetadata: typeof SbSubscriberMetadata;
    // (undocumented)
    export type MetadataTarget = MetadataTarget;
    const // Warning: (ae-forgotten-export) The symbol "SbEmitterMetadata" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    SbEmitterMetadata: typeof SbEmitterMetadata;
    // (undocumented)
    export type SbDiscoveryService = SbDiscoveryService;
    const // Warning: (ae-forgotten-export) The symbol "MetadataTarget" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    MetadataTarget: typeof MetadataTarget;
    // (undocumented)
    export type SbEmitterMetadata<T extends keyof SbEmitterTypeMap = keyof SbEmitterTypeMap> = SbEmitterMetadata<T>;
    // Warning: (ae-forgotten-export) The symbol "SbEmitterTypeMap" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    export type SbEmitterTypeMap = SbEmitterTypeMap;
    // (undocumented)
    export type SbSubscriberMetadata<T extends keyof SbSubscriberTypeMap = keyof SbSubscriberTypeMap> = SbSubscriberMetadata<T>;
    const // (undocumented)
    SbDiscoveryService: typeof SbDiscoveryService;
    // Warning: (ae-forgotten-export) The symbol "SbSubscriberTypeMap" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    export type SbSubscriberTypeMap = SbSubscriberTypeMap;
}

// @public (undocumented)
export interface NextInterceptor<T = any> {
    handle(): Observable<T>;
}

// @public (undocumented)
export type PropOrMethodDecorator<TVar, TTrue> = TVar extends TTrue ? MethodDecorator : <T extends Record<K, OperatorFunction<SbContext, any>>, K extends string>(target: T, key: K) => void;

// @public
export function Queue<T = false>(metadata: SbQueueSubscriptionMetadataOptions): PropOrMethodDecorator<T, MethodDecorator>;

// @public
export const QueueEmitter: (metadata: SbQueueMetadataOptions) => PropertyDecorator;

// @public
export interface SbClientOptions {
    // Warning: (ae-forgotten-export) The symbol "SbConnectionOptions" needs to be exported by the entry point index.d.ts
    // Warning: (ae-forgotten-export) The symbol "SbCredentials" needs to be exported by the entry point index.d.ts
    client?: SbConnectionOptions<SbCredentials, ServiceBusClientOptions>;
    // Warning: (ae-forgotten-export) The symbol "SbLogger" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    logger?: SbLogger;
    // (undocumented)
    management?: SbManagementClientOptions[keyof SbManagementClientOptions];
    name?: string;
}

// @public (undocumented)
export class SbContext<T extends keyof SbSubscriberTypeMap = keyof SbSubscriberTypeMap> {
    constructor(metadata: SbSubscriberMetadata<T>, message: ServiceBusMessage, logger: SbLogger);
    entityName(): string;
    // (undocumented)
    getData<TBody = any>(): TBody;
    // (undocumented)
    getMessage(): ServiceBusMessage;
    // (undocumented)
    readonly logger: SbLogger;
    // (undocumented)
    get metadataOptions(): SbSubscriptionMetadataOptions | SbQueueSubscriptionMetadataOptions;
    resolveClient(emitterReference?: SbEmitterRef): SbEmitterImp | undefined;
    // (undocumented)
    get type(): T;
}

// @public (undocumented)
export type SbContextArgs<T extends keyof SbSubscriberTypeMap = keyof SbSubscriberTypeMap> = [SbSubscriberMetadata<T>, ServiceBusMessage];

// Warning: (ae-forgotten-export) The symbol "CorrelationFilter" needs to be exported by the entry point index.d.ts
//
// @public (undocumented)
export type SbCorrelationFilter = Partial<CorrelationFilter>;

// @public
export interface SbEmitterImp extends Sender {
}

// @public (undocumented)
export interface SbEmitterMetadataOptions {
    clientId?: string;
    // (undocumented)
    name: string;
}

// @public
export type SbEmitterRef = SbEmitterMetadataOptions;

// Warning: (ae-forgotten-export) The symbol "SbEntityProvision" needs to be exported by the entry point index.d.ts
// Warning: (ae-forgotten-export) The symbol "SgEntityProvisionType" needs to be exported by the entry point index.d.ts
//
// @public (undocumented)
export type SbEntityProvisionOption<T extends SbEntityProvision<any>> = SgEntityProvisionType | T;

// @public (undocumented)
export class SbErrorEvent {
    constructor(phase: 'verify' | 'register' | 'listening', options: SbQueueMetadataOptions | SbSubscriptionMetadataOptions, error: Error | MessagingError);
    // (undocumented)
    readonly error: Error | MessagingError;
    // (undocumented)
    readonly options: SbQueueMetadataOptions | SbSubscriptionMetadataOptions;
    // (undocumented)
    readonly phase: 'verify' | 'register' | 'listening';
}

// @public (undocumented)
export abstract class SbErrorHandler {
    // (undocumented)
    abstract onError(event: SbErrorEvent): Promise<void>;
    // (undocumented)
    abstract onMessageError(event: SbMessageErrorEvent): Promise<void>;
}

// @public (undocumented)
export function SbIntercept(...interceptors: Array<SbInterceptor>): <T extends Record<K, OperatorFunction<SbContext<"queue" | "subscription">, any>>, K extends string>(target: T, key: K) => void;

// @public (undocumented)
export interface SbInterceptor<T = any, R = any> {
    // (undocumented)
    intercept(context: SbContext, next: NextInterceptor<T>): Observable<R> | Promise<Observable<R>>;
}

// Warning: (ae-forgotten-export) The symbol "ServiceBusAtomManagementClientOptions" needs to be exported by the entry point index.d.ts
//
// @public (undocumented)
export interface SbManagementClientAtomOptions extends SbConnectionOptions<ServiceBusConnectionStringCredentials, ServiceBusAtomManagementClientOptions> {
    // (undocumented)
    defaults?: SbManagementDefaultsAdapter;
}

// @public (undocumented)
export interface SbManagementClientOptions {
}

// @public (undocumented)
export interface SbManagementDefaultsAdapter {
    // (undocumented)
    entities?: {
        queue?: SbQueue;
        topic?: SbTopic;
        subscription?: SbSubscription;
    };
    onNewSubscriptionRules?(topicName: string, subscriptionName: string, providedRules: SbRuleEntityProvision[], subscriptionProvision: SbTopicSubscriptionEntityProvision): SbRuleEntityProvision[];
}

// @public
export type SbMessageEmitter = SbEmitterRef | SbEmitterImp;

// @public (undocumented)
export class SbMessageErrorEvent {
    constructor(options: SbQueueMetadataOptions | SbSubscriptionMetadataOptions, error: Error, message: ServiceBusMessage);
    // (undocumented)
    readonly error: Error;
    // (undocumented)
    readonly message: ServiceBusMessage;
    // (undocumented)
    readonly options: SbQueueMetadataOptions | SbSubscriptionMetadataOptions;
}

// Warning: (ae-forgotten-export) The symbol "QueueDetails" needs to be exported by the entry point index.d.ts
//
// @public (undocumented)
export type SbQueue = Partial<Omit<QueueDetails, 'queueName'>>;

// @public (undocumented)
export interface SbQueueEntityProvision extends SbEntityProvision<SbQueue> {
    deadLetter?: SbLinkedEntityProvisionOption;
    // Warning: (ae-forgotten-export) The symbol "SbLinkedEntityProvisionOption" needs to be exported by the entry point index.d.ts
    forward?: SbLinkedEntityProvisionOption;
}

// @public (undocumented)
export interface SbQueueMetadataOptions extends SbEmitterMetadataOptions {
    // (undocumented)
    provision?: SbEntityProvisionOption<SbQueueEntityProvision>;
}

// @public (undocumented)
export interface SbQueueSubscriptionMetadataOptions extends SbSubscriberMetadataOptions {
    // (undocumented)
    provision?: SbEntityProvisionOption<SbQueueEntityProvision>;
}

// Warning: (ae-forgotten-export) The symbol "RuleDetails" needs to be exported by the entry point index.d.ts
//
// @public (undocumented)
export type SbRule = Partial<Omit<RuleDetails, 'createdOn'>>;

// @public (undocumented)
export interface SbRuleEntityProvision extends SbEntityProvision<SbRule> {
    // (undocumented)
    params: SbRule;
    // (undocumented)
    ruleName: string;
}

// @public (undocumented)
export interface SbServerOptions {
    // (undocumented)
    client: SbConnectionOptions<SbCredentials, ServiceBusClientOptions>;
    // (undocumented)
    logger?: SbLogger;
    // (undocumented)
    management?: SbManagementClientOptions[keyof SbManagementClientOptions];
    name?: string;
    registerHandlers?: 'sequence' | 'parallel';
}

// Warning: (ae-forgotten-export) The symbol "SqlFilter" needs to be exported by the entry point index.d.ts
//
// @public (undocumented)
export type SbSqlFilter = Partial<Omit<SqlFilter, 'sqlParameters'>>;

// @public (undocumented)
export interface SbSubscriberMetadataOptions {
    // (undocumented)
    handlerOptions?: MessageHandlerOptions;
    // (undocumented)
    name: string;
    // (undocumented)
    receiveMode: ReceiveMode;
    serverId?: string;
    // (undocumented)
    sessionOptions?: SessionReceiverOptions;
    swallowErrors?: boolean | 'swallowAndAutoComplete';
}

// Warning: (ae-forgotten-export) The symbol "SubscriptionDetails" needs to be exported by the entry point index.d.ts
//
// @public (undocumented)
export type SbSubscription = Partial<Omit<SubscriptionDetails, 'subscriptionName' | 'topicName'>>;

// @public (undocumented)
export interface SbSubscriptionMetadataOptions extends SbSubscriberMetadataOptions {
    // (undocumented)
    provision?: SbEntityProvisionOption<SbTopicSubscriptionEntityProvision>;
    // (undocumented)
    topicName: string;
}

// Warning: (ae-forgotten-export) The symbol "TopicDetails" needs to be exported by the entry point index.d.ts
//
// @public (undocumented)
export type SbTopic = Partial<Omit<TopicDetails, 'topicName'>>;

// @public (undocumented)
export interface SbTopicEntityProvision extends SbEntityProvision<SbTopic> {
}

// @public (undocumented)
export interface SbTopicMetadataOptions extends SbEmitterMetadataOptions {
    // (undocumented)
    provision?: SbEntityProvisionOption<SbTopicEntityProvision>;
}

// @public (undocumented)
export interface SbTopicSubscriptionEntityProvision extends SbEntityProvision<SbSubscription> {
    deadLetter?: SbLinkedEntityProvisionOption;
    forward?: SbLinkedEntityProvisionOption;
    rules?: SbRuleEntityProvision[] | ((topicName: string, subscriptionName: string) => SbRuleEntityProvision[]);
    topic?: SbEntityProvisionOption<SbTopicEntityProvision>;
}

// @public (undocumented)
export interface ServiceBusAadTokenCredentials {
    credentials: Parameters<typeof ServiceBusClient['createFromAadTokenCredentials']>[1];
    host: string;
}

// @public (undocumented)
export interface ServiceBusConnectionStringCredentials {
    // (undocumented)
    connectionString: string;
}

// @public (undocumented)
export interface ServiceBusManagementAadTokenCredentials extends ServiceBusAadTokenCredentials {
    // (undocumented)
    namespace: string;
    // (undocumented)
    resourceGroupName: string;
    // (undocumented)
    subscriptionId: string;
}

// @public (undocumented)
export interface ServiceBusTokenProviderCredentials {
    // (undocumented)
    host: string;
    // (undocumented)
    tokenProvider: TokenProvider;
}

// @public
export function Subscription<T = false>(metadata: SbSubscriptionMetadataOptions): PropOrMethodDecorator<T, MethodDecorator>;

// @public
export const Topic: (metadata: SbTopicMetadataOptions) => PropertyDecorator;


// (No @packageDocumentation comment for this package)

```
